# 要件定義書: いいねした短歌の一覧画面

> Issue: #73
> 生成日時: 2026-03-01
> ステータス: Draft

## 1. 概要

自分がいいねした短歌の一覧を閲覧できる画面を追加する。気に入った短歌を後から見返したいというユーザーニーズに対応する。

## 2. 背景・動機

- 気に入った短歌を後から見返したいというニーズがある
- 現在はフィードをスクロールして探すしかなく、過去にいいねした短歌にアクセスしづらい

## 3. 機能要件

### FR-001: いいね済み短歌一覧の表示

- いいね済みの短歌を一覧画面で表示できること
- 一覧は `createdAt` 降順（新しい順）で表示されること
- 既存の `TankaCard` コンポーネントを再利用して表示すること

### FR-002: いいね解除時のリアルタイム反映

- 一覧画面上でいいねを解除した場合、即座にリストから除外されること

### FR-003: 空状態の表示

- いいねした短歌が 0 件の場合、空状態メッセージを表示すること
- 例: 「いいねした短歌はまだありません」

### FR-004: ナビゲーション導線

- 「わたしの歌」タブ内にいいねした短歌一覧への導線を設ける
- MyTankaView に「いいねした短歌」へのナビゲーションリンクを追加する

## 4. 非機能要件

### NFR-001: パフォーマンス

- 初期読み込みは 2 秒以内に完了すること

### NFR-002: データ取得方式

- Firestore の `collectionGroup` クエリで `likes` サブコレクションを横断検索し、自分がいいねした短歌 ID を取得
- 各短歌ドキュメントを個別にフェッチする

## 5. 受け入れ条件

| # | 条件 | 検証方法 |
|---|---|---|
| AC-001 | いいね済みの短歌一覧画面が表示できる | 画面を開いて確認 |
| AC-002 | 一覧は createdAt 降順で表示される | 複数の短歌にいいねして順序を確認 |
| AC-003 | 既存の TankaCard コンポーネントで表示される | カードのフリップ動作を確認 |
| AC-004 | いいね解除した場合、一覧から即座に反映される | いいねを解除してリストが更新されることを確認 |
| AC-005 | 短歌が 0 件の場合は空状態を表示する | いいねなしの状態で画面を開いて確認 |
| AC-006 | 画面へのナビゲーション導線がある | わたしの歌タブからいいねした短歌一覧に遷移できることを確認 |

## 6. スコープ外

- ページネーション（初期リリースでは全件取得）
- オフラインキャッシュ
- ソート順の変更機能
